swagger: 2
info:
  title: 'VSI Process Control'
  description: 'Describes the protocol of the device to the control software (Leitstand)'
  contact:
    name: 'Kay Herzam (Swiss Post)'
    email: kay.herzam@post.ch
  version: 7.1.0-feature-add-location-key.1
host: 'server:1883'
basePath: mqtt
parameters:
  sourceDestinationConversationParameters:
    -
      name: srcSystem
      in: path
      description: '3-letter uppercase name identifying the system issuing the message'
      type: string
      default: MDS
    -
      name: srcInstance
      in: path
      description: 'two-digit padded number identifying the system instance issuing the message'
      type: string
      default: '01'
    -
      name: dstSystem
      in: path
      description: '3-letter uppercase name identifying the system receiving the message'
      type: string
      default: ASL
    -
      name: dstInstance
      in: path
      description: 'two-digit padded number identifying the system instance receiving the message'
      type: string
      default: '01'
    -
      name: conversationId
      in: path
      description: 'ID that will be included in the get-response topic in order to correlate the messages'
      type: string
      default: '12345'
  sourceSystemInstanceParameters:
    -
      name: srcSystem
      in: path
      description: '3-letter uppercase name identifying the system issuing the message'
      type: string
      default: ASL
    -
      name: srcInstance
      in: path
      description: 'two-digit padded number identifying the system instance issuing the message'
      type: string
      default: '01'
paths:
  '/{locationKey}/vsi-process-control/v7/client/status/{srcSystem}/{srcInstance}':
    post:
      summary: 'üîÇ[RETAINED] client connection state'
      description: 'Used to notify subscribers about client connection state changes'
      tags:
        - client
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/ClientStatus'}
  '/{locationKey}/vsi-process-control/v7/device/state/{srcSystem}/{srcInstance}':
    post:
      summary: 'üîÇ[RETAINED OPTIONAL] ATG-6 update machine state'
      description: 'Used to send state responses / updates from the device to the control. (Re-)Connected to ATG - The publisher needs to send (synchronize) the full state to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/OverallState'}
  '/{locationKey}/vsi-process-control/v7/control/state:set/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-6 Change machine state'
      description: 'Issue a set request to the device to change its state (or a sub module state).'
      tags:
        - control
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/OverallState'}
  '/{locationKey}/vsi-process-control/v7/device/state:set:status/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-6 Change machine state'
      description: 'Issues the state update status (successful or unsuccesful) of a state:set operation'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/RequestStatus'}
  '/{locationKey}/vsi-process-control/v7/device/parameter-metadata/{srcSystem}/{srcInstance}':
    post:
      summary: 'üîÇ[RETAINED] ATG-7 update parameter list'
      description: 'Used to send a list of available parameters. The device publishes its parameter metadata at startup and whenever there is a change. (Re-)Connected to ATG - The publisher needs to send (synchronize) the full state to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/ParameterMetadata'}
  '/{locationKey}/vsi-process-control/v7/device/parameter-values/{srcSystem}/{srcInstance}':
    post:
      summary: 'üîÇ[RETAINED OPTIONAL] ATG-7 update parameter values'
      description: 'Used to send a list of changed parameters from the device to the control. The device publishes its parameter values at startup and whenever there is a change. (Re-)Connected to ATG - The publisher needs to send (synchronize) the full state to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/ParameterValues'}
  '/{locationKey}/vsi-process-control/v7/control/parameter-values:set/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-7 change parameter values'
      description: 'Issue a set request to the device to change its parameter value(s).'
      tags:
        - control
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/ParameterValues'}
  '/{locationKey}/vsi-process-control/v7/device/parameter-values:set:status/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-7 change parameter values status'
      description: 'Issues the parameter values update status (successful or unsuccesful) of a parameter-values:set operation'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/RequestStatus'}
  '/{locationKey}/vsi-process-control/v7/device/messages/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-8 update messages'
      description: 'Used to send messages (alarms) from the device to the control. (Re-)Connected to ATG - The publisher needs to send (synchronize) the full state to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/Messages'}
  '/{locationKey}/vsi-process-control/v7/device/fill-levels/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-9 update live data'
      description: 'Used to send live data (fill level) from the device to the control. (Re-)Connected to ATG - The publisher needs to send (synchronize) the full state to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/FillLevels'}
  '/{locationKey}/vsi-process-control/v7/device/read-rates/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-9 update live data'
      description: 'Used to send live data (read rate) from the device to the control. The frequency of the data event is configurable (default 1 minute). (Re-)Connected to ATG - The publisher needs to send (synchronize) the full state to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/ReadRates'}
  '/{locationKey}/vsi-process-control/v7/device/track-event/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-10 update track event'
      description: "Used to send track event from the device to the control.\n(Re-)Connected to ATG - The publisher needs to buffer all unsent messages for at least 1 day until the message is sent successfully to the ATG.\n"
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/TrackEvent'}
  '/{locationKey}/vsi-process-control/v7/device/statistics/{srcSystem}/{srcInstance}':
    post:
      summary: 'ATG-11 update statistics'
      description: 'Used to send statistics from the device to the control. The frequency of the data event is configurable (default 5 minutes). (Re-)Connected to ATG - The publisher needs to buffer all unsent messages for at least 1 day until the message is sent successfully to the ATG.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/Statistics'}
  '/{locationKey}/vsi-process-control/v7/control/software:restart/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-13 Device-Software neustarten'
      description: 'Used to restart the device from the control'
      tags:
        - control
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/SoftwareRestartRequest'}
  '/{locationKey}/vsi-process-control/v7/device/software:restart:status/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-13 Device-Software neustarten'
      description: 'Issues the restart status (successful or unsuccesful) of a restart operation.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/RequestStatus'}
  '/{locationKey}/vsi-process-control/v7/control/hardware:reboot/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-14 Device-Hardware neustarten (boot)'
      description: 'Used to reboot the device''s host from the control'
      tags:
        - control
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/HardwareRebootRequest'}
  '/{locationKey}/vsi-process-control/v7/device/hardware:reboot:status/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-14 Device-Hardware neustarten (boot)'
      description: 'Issues the reboot status (successful or unsuccesful) of a reboot operation.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/RequestStatus'}
  '/{locationKey}/vsi-process-control/v7/control/synchronize/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-15 Device Synchronisieren'
      description: 'Requests a Device to synchronize with control'
      tags:
        - control
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/SynchronizeRequest'}
  '/{locationKey}/vsi-process-control/v7/device/synchronize:status/{srcSystem}/{srcInstance}/{dstSystem}/{dstInstance}/{conversationId}':
    post:
      summary: 'ATG-15 Device Synchronisieren'
      description: 'Issues the synchronize status (successful or unsuccesful) of a synchronize operation.'
      tags:
        - device
      parameters:
        -
          $ref: '#/definitions/undefined'
      responses:
        default:
          schema: {$ref: '#/definitions/RequestStatus'}
definitions:
  BarCodeStatus:
    type: string
    enum:
      - NO_BARCODE
      - DETECTED_AND_RECOGNIZED
      - DETECTED_AND_NOT_RECOGNIZED
    description: "# Description\n\nThis type defines the states a barcode can have.\n\n**NO_BARCODE**: The barcode symbol or the code value could not be detected.\n\n**DETECTED_AND_RECOGNIZED**: The barcode/matrix code matches at least one of the below patterns / validation rules\n\n**DETECTED_AND_NOT_RECOGNIZED**: The barcode/matrix code matches none of the below patterns / validation rules\n\n---\n\nOnly recognized barcodes/matrix codes such as productCodes should be used by consuming systems.\n\nNot recognized barcodes can be useful:\n- in case of new barcode formats\n- for systems outside of PL sorting systems\n- for (error) analysis\n\n# Patterns/ Validation Rules:\n\n## CODE_128\n\n   1. **Internationaler Barcode**\n\n       Beispiel: EP923689367CH  \n       Validierung: `[A-Z]{2}[0-9]{9}[A-Z]{2}` (13 Zeichen)\n\n   2. **Nationaler Barcode**\n\n       Beispiel: 994214393000008666  \n       Validierung: `(98|99)[0-9]{16}` (18 Zeichen)\n\n   3. **Produktcode: PRZL (Produkt/Zusatzleistungen)**\n\n       Beispiel: 0509  \n       Validierung: `[0-9]{4}` (4 Zeichen)\n\n   3. **BoxId**\n\n       Erste zwei Ziffern: Typ der Box: ¬´45¬ª f√ºr ThermoCare-Box, Letzte sechs Ziffern: Seriennummer der Box\n       Beispiel: 45093456\n       Validierung: `[0-9]{8}` (8 Zeichen)\n\n   4. **F√∂rderhilfentyp**\n\n       Format: Erste zwei Ziffern: Typ der F√∂rderhilfe, Letzte vier Ziffern: Gewicht der F√∂rderhilfe in Gramm\n       Beispiel: 020450\n       Validierung: `[0-9]{6}` (6 Zeichen)\n\n## DATA_MATRIX \nDatenfeld: Data Matrix \n- Validierung: ECC200\nBeispiel: 756109025843770000010000000000000000000003489510005501606300\nValidierung: ECC200 (Max. 90 Zeichen)"
    $id: null
  BarCodeSymbology:
    type: string
    enum:
      - CODE_128
      - DATA_MATRIX
    description: 'Provides the valid symbologies of a barcode label'
    $id: null
  BarCode:
    type: object
    properties:
      type:
        $ref: '#/definitions/BarCodeSymbology'
        description: 'Provides the valid symbologies of a barcode label.'
      value:
        type: string
        description: 'This element contains the value of the barcode.'
      status:
        $ref: '#/definitions/BarCodeStatus'
        description: 'This element contains the status of the barcode.'
    required:
      - status
    additionalProperties: false
    description: 'This type contains a barcode.'
    $id: null
  BinOccupancyState:
    type: object
    properties:
      emptyBinOccupied:
        type: boolean
      binMultipleItemOccupied:
        type: boolean
      frontOverlappingLimitExceeded:
        type: boolean
      backOverlappingLimitExceeded:
        type: boolean
      multipleItemsDetected:
        type: boolean
      conveyingAidDetected:
        type: boolean
    required:
      - emptyBinOccupied
      - binMultipleItemOccupied
      - frontOverlappingLimitExceeded
      - backOverlappingLimitExceeded
      - multipleItemsDetected
      - conveyingAidDetected
    additionalProperties: false
    description: "Doppelbelegung / Leerschalen-kontrolle\nemptyBinOccupied: Belegte Leerschale\nbinMultipleItemOccupied: Doppelbelegung - Erkennung der Schalenbelegung von DWS\nfrontOverlappingLimitExceeded: √úberstand vorne zu gro√ü\nbackOverlappingLimitExceeded: √úberstand hinten zu gro√ü\nmultipleItemsDetected: >= 2 Objekt erkannt\nconveyingAidDetected: F√∂rderhilfe erkannt"
    $id: null
  ClientState:
    type: string
    enum:
      - CONNECTED
      - DISCONNECTED
      - BROKEN
    $id: null
  ClientStatus:
    type: object
    properties:
      state:
        $ref: '#/definitions/ClientState'
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
    required:
      - state
      - timestamp
      - locationKey
    additionalProperties: false
    $id: null
  DimensionMeasurementRangeType:
    type: string
    enum:
      - INSIDE
      - OUTSIDE
    description: "- INSIDE: Object is within the measurement range\n- OUTSIDE: Object is outside of the measurement range"
    $id: null
  DimensionMeasurementResultType:
    type: string
    enum:
      - OK
      - NOK
      - NOT_RECOGNIZED
    description: "Measurement result state.\n\n- OK: Measurement VMS ok\n- NOK: Measurement VMS not ok\n- NOT_RECOGNIZED: No object recognized"
    $id: null
  DimensionMeasurementState:
    type: object
    properties:
      measurementResult:
        $ref: '#/definitions/DimensionMeasurementResultType'
      measurementRange:
        $ref: '#/definitions/DimensionMeasurementRangeType'
      itemSizeClassification:
        $ref: '#/definitions/ItemSizeClassificationType'
    required:
      - measurementResult
      - measurementRange
      - itemSizeClassification
    additionalProperties: false
    description: 'State of the measurement.'
    $id: null
  Dimension:
    type: object
    properties:
      length:
        type: integer
        description: 'Length in [mm].'
      width:
        type: integer
        description: 'Width in [mm].'
      height:
        type: integer
        description: 'Height in [mm].'
      state:
        $ref: '#/definitions/DimensionMeasurementState'
    additionalProperties: false
    description: 'Dimension measurement of the mail piece'
    $id: null
  FillLevel:
    type: object
    properties:
      processPoint:
        type: string
        description: 'The location where the information was generated. (Siehe Anlagen Bezeichnungskonzept)'
      total:
        type: integer
        description: 'Number of parcels actually at the processpoint (Sorter / Conveyor).'
        minimum: 0
      capacity:
        type: integer
        description: 'Maximum number of parcels the processpoint (Sorter / Conveyor) can buffer. xy'
        minimum: 0
      noDestination:
        type: integer
        description: 'Number of parcels with no destination.'
        minimum: 0
      destinationMCS:
        type: integer
        description: 'Number of parcels with destination MCS.'
        minimum: 0
      destinationReject:
        type: integer
        description: 'Number of parcels with destination reject.'
        minimum: 0
    required:
      - processPoint
      - total
      - capacity
      - noDestination
      - destinationMCS
      - destinationReject
    additionalProperties: false
    description: 'The actual fill level of the parcel sorter. The fill level will be used for visualization and control purposes.'
    $id: null
  FillLevels:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      fillLevels:
        type: array
        items:
          $ref: '#/definitions/FillLevel'
    required:
      - timestamp
      - locationKey
      - fillLevels
    additionalProperties: false
    description: 'Contains an array of fill levels.'
    $id: null
  HardwareRebootRequest:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the reboot request was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
    required:
      - timestamp
      - locationKey
    additionalProperties: false
    $id: null
  InformationCarrier:
    type: object
    properties:
      symbology:
        $ref: '#/definitions/Symbology'
        description: 'Symbology of an information carrier'
      value:
        type: string
        description: 'Value of an information carrier'
    required:
      - symbology
      - value
    additionalProperties: false
    description: 'Identified and captured information carrier (e.g. barcodes, logos)'
    $id: null
  ItemSizeClassificationType:
    type: object
    properties:
      ok:
        type: boolean
        description: "True: object size ok\nFalse: Object size not ok (over and/or undersized, see corresponding flags)"
      oversized:
        type: boolean
        description: 'object too big to be measured'
      undersized:
        type: boolean
        description: 'object too small to be measured'
    required:
      - ok
      - oversized
      - undersized
    additionalProperties: false
    $id: null
  LegalForTradeState:
    type: object
    properties:
      conveyorSpeedError:
        type: boolean
        description: 'Conveyor speed is out of tolerance.'
      storageError:
        type: boolean
        description: 'Alibi storage error.'
      dimensionError:
        type: boolean
        description: 'VMS data is not legal for trade.'
      weightError:
        type: boolean
        description: 'Weight data not legal for trade.'
    required:
      - conveyorSpeedError
      - storageError
      - dimensionError
      - weightError
    additionalProperties: false
    description: "Detailed information on legal for trade relevant measurements.\n\n- If all flags are false, the measurements are legal for trade.\n- If only weightError is true, dimension measurement is legal for trade.\n- If only dimensionError is true, weight measurement is legal for trade.\n- Otherwise, measurements are not legal for trade."
    $id: null
  LegalForTrade:
    type: object
    properties:
      actualVolume:
        type: integer
        description: "# GER-TODO\n\nRealvolumen VMS#1 wenn VMS#1 = VMS420/520 Realvolumen = 000000 bei VMS#1 = VMS410/510\n[dm3]"
        maxLength: 5
      boxVolume:
        type: integer
        description: "Boxvolumen = L√§nge x Breite x H√∂he\n[dm3]"
        maxLength: 5
      volumeRatio:
        type: integer
        description: 'Realvolumen / Boxvolumen in % ganzzahlig'
      shape:
        $ref: '#/definitions/ShapeType'
        description: 'Die Paketform.'
      state:
        $ref: '#/definitions/LegalForTradeState'
    additionalProperties: false
    description: 'Customs information'
    $id: null
  Location:
    type: object
    properties:
      face:
        $ref: '#/definitions/MailpieceFace'
        description: "# GER-TODO\nZur Erkennung auf welcher Seite (welche Kamera) der Identcode gelesen wurde (z.B. f√ºr VCS‚Ä¶).\nDer Wert ist nur auf den Identcode (national) bezogen."
      polygon:
        $ref: '#/definitions/Polygon'
        description: "Achtung: Die Punkte in F√∂rderrichtung durchnummeriert, im Unterschied zum CEN-Standard, wo sie im (Gegen-)Uhrzeigersinn ausgerichtet sind.\nDie Punkte werden wie folgt ermittelt/ausgegeben:\nerster Punkt in F√∂rde-richtung ist der Start-punkt gez√§hlt wird fortlaufend in F√∂rderichtung (nicht Uhrzeigersinn)\nalle Angaben sind bezogen auf den Triggernullpunkt (= Schalenanfang) ‚Äöx‚Äô wird in F√∂rderrichtung ermittelt; ‚Äöy‚Äô quer zur F√∂rderrichtung"
    additionalProperties: false
    description: "To specify a region location, the region descriptor LocationT listed subsequently is used. LocationT encloses\nno information about the image orientation. The image orientation is specified in the TIFF header. Region\ncoordinates are given in pixel and are related to the image origin which corresponds to the upper left corner.\nThe coordinates are independent of the TIFF orientation."
    $id: null
  MailpieceAttr:
    type: object
    properties:
      type:
        $ref: '#/definitions/MailpieceType'
        description: 'Defines the type of the mail item.'
      preknowledge:
        $ref: '#/definitions/RecognitionResult'
        description: "Provides preknowledge to the RC System, e.g. a barcode\nresult if a barcode reader is integrated into the machine."
    required:
      - type
    additionalProperties: false
    description: "This type is taken from CEN/TS 15448 and extended by a ‚Äúpreknowledge‚Äù element.\nThe type MailpieceAttrT specifies basic mailpiece attributes."
    $id: null
  MailpieceFace:
    type: string
    enum:
      - TOP
      - LEFT
      - RIGHT
      - FRONT
      - REAR
      - BOTTOM
      - FRONT_LEFT
      - FRONT_RIGHT
      - REAR_LEFT
      - REAR_RIGHT
    $id: null
  MailpieceType:
    type: string
    enum:
      - UNKNOWN
      - LETTER
      - LETTER_BUNDLE
      - FLAT
      - FLAT_BUNDLE
      - PARCEL
    description: "Defines the mailpiece type.\nUNKNOWN Unknown mailpiece type for the sorter\nLETTER Mail item (Brief)\nLETTER_BUNDLE Not supported\nFLAT Big letters mostly from China (Kleinware)\nFLAT_BUNDLE Bundle of mail items (Bund)\nPARCEL Parcel item (Paket)"
    $id: null
  MessagePriority:
    type: string
    enum:
      - INFO
      - WARNING
      - ALARM
      - ERROR
    $id: null
  MessageState:
    type: string
    enum:
      - NONE
      - APPEAR
      - DISAPPEAR
    description: "Defines the alarm states.\nList of values:\n- NONE: used for events which occur at a specific timestamp\n- APPEAR / DISAPPEAR: used for events which can appear for a certain time slice."
    $id: null
  Message:
    type: object
    properties:
      id:
        type: integer
        description: "An id, identifying the message. With the help of this Id and the language of the end user, the message text is localized.\nThe id must be unique within the context of the machine (Systemname plus SystemInstance) that generated the message."
      initiator:
        type: string
        description: "String parameter identifying the source of the message. If the source is unknown a kind of text \"Machine\" must be supplied.\nAs a general rule, the definition of the initiator should be aligned with the module identification of the group messages.\nFor example, the unique plant part identification (AKZ) can be very suitable for that purpose.\nThe initiator is a third layer underneath the systemname and systeminstance to identify the source of the error."
      priority:
        $ref: '#/definitions/MessagePriority'
        description: 'The priority of the Message.'
      state:
        $ref: '#/definitions/MessageState'
        description: "Identifies the mode of the message. In the visualization a message may APPEAR, typically if this is an error.\nIf the problem was fixed there is typically a DISAPPEAR message of type information to indicate that the problem has gone."
      acknowledge:
        type: boolean
        description: 'If the message needs to be acknowledged by an operator.'
      text:
        type: string
        description: "English description text as default fault/warning message with possibilities to insert parameters inJava Text-like format\nwith %N or $N syntax for identification of the N-th parameter.\nNormally the language specific text from the EMPS database will be used instead of this default text."
      parameters:
        type: array
        items:
          type: string
        description: 'Parameters for the above mentioned text / text referenced by the id.'
    required:
      - id
      - initiator
      - priority
      - state
      - acknowledge
      - text
    additionalProperties: false
    description: 'A message is a textual string giving some reasonable information to a message tracking system of the Mail Information System. The group "Messages" implements the messages (errors, alarms, warnings, informations) generated by a piece of mail processing equipment (MPE). The message parameters defined above are the attributes of this group. This group is defined to be a notifylist. When a new message is created, a new element of this notifylist is created. The machine has to store all messages until the message has been successfully handled by the JMS server (as any Notifylist element, this is a general mechanism for Notifylists). The storage timeframe has to be adjustable to project needs, depending on the availability of the MIS role (normally in the range of half an hour up to 3 hours). Associated to the Message Id, there must be a (language dependent) message text, which has a Java-Text like escape character notation (%1, $1) that allows the text assembly with the provided sequence of (string) parameters. Note that the numbers the escape characters start with 1and that string parameters cannot be translated, they will normally be numbers passed as strings. The interpretation is done according to the escape parameters inside the message text. The Text parameter is only displayed if no language dependent message text can be found for a given Id. The general XML mapping of this element is Messages. As this is a NotifylistElement the header will hold a timestamp that indicates when the problem occured.'
    $id: null
  Messages:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center (ONRP).'
        maxLength: 200
      messages:
        type: array
        items:
          $ref: '#/definitions/Message'
    required:
      - timestamp
      - locationKey
      - messages
    additionalProperties: false
    description: 'Used to send message (alarms) from the device to the control.'
    $id: null
  ModuleState:
    type: object
    properties:
      name:
        type: string
      value:
        type: integer
        description: "Module state\nTechsys:\n  - publish statuschange: RDY=0,DSA=1,ERR=2\n  - set status: ENA=10,DISA=11"
        minimum: 0
    required:
      - name
      - value
    additionalProperties: false
    $id: null
  OverallState:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      machineState:
        type: integer
        description: "This is the single attribute which has a predefined name.\nIt represents the overall state of the machine represented by the Sorter instance.\nIf the Sorter is not able to calculate the overall state this value is not to be sent."
        minimum: 0
      moduleStates:
        type: array
        items:
          $ref: '#/definitions/ModuleState'
        description: "The set of attributes transmitting substates of a Sorter. This elements stands for a specific visualisation element / state variable.\nThere exists as many instances of this attribute in the group as necessary to express all state information of the Sorter role."
    required:
      - timestamp
      - locationKey
      - machineState
      - moduleStates
    additionalProperties: false
    description: 'Contains an overall machine state and a list of (sub) moduleStates.'
    $id: null
  ParameterMetadata:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      parameters:
        type: array
        items:
          $ref: '#/definitions/Parameter'
        description: 'List of parameters to be set.'
        minItems: 1
    required:
      - timestamp
      - locationKey
      - parameters
    additionalProperties: false
    description: 'Contains exactly one main element, based on the use case (XOR).'
    $id: null
  ParameterType:
    type: string
    enum:
      - BOOLEAN
      - INTEGER
      - STRING
      - DATE
      - TIME
      - DATE_TIME
    description: "The type of a parameter value.\nEncoding / formatting follow the same rules as JSON encoding (i.e. String encoding = UTF8, dates = ISO 8601, booleans = true/false)"
    $id: null
  ParameterValue:
    type: object
    properties:
      name:
        type: string
        description: 'The name of the parameter for which the value is changed.'
      newValue:
        type: string
        description: 'The new/requested value of the parameter.'
      type:
        $ref: '#/definitions/ParameterType'
      oldValue:
        type: string
        description: 'The current/previous value of the parameter.'
    required:
      - name
      - newValue
    additionalProperties: false
    $id: null
  ParameterValues:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center'
        maxLength: 200
      parameterValues:
        type: array
        items:
          $ref: '#/definitions/ParameterValue'
        description: 'List of parameter values.'
        minItems: 1
    required:
      - timestamp
      - locationKey
      - parameterValues
    additionalProperties: false
    description: 'Contains exactly one main element, based on the use case (XOR).'
    $id: null
  Parameter:
    type: object
    properties:
      name:
        type: string
        description: 'The name of the parameter.'
        minimum: 55
      modifiable:
        type: boolean
        description: 'True if parameter is modifiable, false otherwise.'
      factoryValue:
        type: string
        description: 'The factory setting of parameter value.'
        minimum: 50
      type:
        $ref: '#/definitions/ParameterType'
      min:
        type: string
        description: "For Integer, Date. Time and DateTime types the min value defines the lower limit of the value range.\nFor String value it defines the min length of the String."
        minimum: 25
      max:
        type: string
        description: "For Integer, Date. Time and DateTime types the max value defines the upper limit of the value range including the max value.\nFor String value it defines the max length of the String."
        minimum: 25
      description:
        type: string
        description: 'The default description of the parameter.'
        minimum: 2000
    required:
      - name
      - modifiable
      - type
      - description
    additionalProperties: false
    $id: null
  PolygonDot:
    type: object
    properties:
      x:
        type: number
      y:
        type: number
    required:
      - x
      - y
    additionalProperties: false
    $id: null
  Polygon:
    type: object
    properties:
      dot:
        type: array
        items:
          $ref: '#/definitions/PolygonDot'
    required:
      - dot
    additionalProperties: false
    $id: null
  ReadRate:
    type: object
    properties:
      processPoint:
        type: string
        description: 'The location where the information was generated. (Siehe Anlagen Bezeichnungskonzept)'
      total:
        type: integer
        description: 'Total number of parcel passed the reading device.'
        minimum: 0
      read:
        type: integer
        description: 'Number of parcel successfully read at processpoint and the cen-mc-rc.submit-mailpiece event has been sent to the coding system.'
        minimum: 0
    required:
      - processPoint
      - total
      - read
    additionalProperties: false
    description: 'The read rate event of an element. The counter will be used for visualization and statistic purposes.'
    $id: null
  ReadRates:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      readRates:
        type: array
        items:
          $ref: '#/definitions/ReadRate'
    required:
      - timestamp
      - locationKey
    additionalProperties: false
    description: 'Contains an array of read rates.'
    $id: null
  RecognitionResult:
    type: object
    properties:
      multipleMailpiecdIdRecognized:
        type: boolean
        description: "[DEPRECATED] Attribute will be removed in future releases after WESort is rolled out in all sorting centers.\nIf true, multiple identcodes were recognized by the camera."
      informationCarriers:
        type: array
        items:
          $ref: '#/definitions/InformationCarrier'
        description: "Contains the data from the information carrier identified by the reading system.\nThe reading system should read and send all available barcodes/matrix codes. The consuming systems will apply further classification and filtering."
      barCodes:
        type: array
        items:
          $ref: '#/definitions/BarCode'
        description: "[DEPRECATED] Is replaced by the attribute informationCarriers. Attribute will be removed in future releases after WESort is rolled out in all sorting centers.\nContains all barcodes/matrix codes identified by the reading system.\nThe reading system should read and send all available barcodes/matrix codes. The consuming systems will apply further classification and filtering."
      location:
        $ref: '#/definitions/Location'
      dimension:
        $ref: '#/definitions/Dimension'
        description: 'dimension of the mail piece.'
      weight:
        $ref: '#/definitions/Weight'
        description: 'weight of the mail piece.'
      legalForTrade:
        $ref: '#/definitions/LegalForTrade'
        description: 'Legal For Trade information.'
      binOccupancy:
        $ref: '#/definitions/BinOccupancyState'
    additionalProperties: false
    $id: null
  RequestState:
    type: string
    enum:
      - OK
      - ERROR
      - PROCESSING
    $id: null
  RequestStatus:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      state:
        $ref: '#/definitions/RequestState'
      message:
        type: string
        description: "May contain additional information on the status, e.g. error reason\nin case of ERROR. Messages are not meant to be processed\nautomatically but should just be used for problem\ntracking."
    required:
      - timestamp
      - locationKey
      - state
    additionalProperties: false
    description: 'Response of the device to a Request.'
    $id: null
  ShapeType:
    type: string
    enum:
      - CUBIC
      - IRREGULAR
    $id: null
  SoftwareRestartRequest:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the restart request was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center (ONRP).'
        maxLength: 200
    required:
      - timestamp
      - locationKey
    additionalProperties: false
    $id: null
  SortReason:
    type: string
    enum:
      - UNKNOWN
      - OK
      - MAX_RECIRCULATION
      - ITEM_NO_READ
      - ITEM_MULTIPLE_READ
      - SCANNER_TIMEOUT
      - ITEM_STRAY
      - ITEM_INDUCTION_ERROR
      - ITEM_DISCHARGE_ERROR
      - ITEM_ERROR
      - ITEM_TRACKING_ERROR
      - ITEM_OCCUPIED_TWICE_ERROR
      - ITEM_DISAPPEARED
      - OUTLET_NOT_AVAILABLE
      - OUTLET_UNKNOWN
      - UNDEFINED_ERROR
      - NO_CAPACITY
      - DIMENSION_ERROR
      - WEIGHT_ERROR
      - SORTPLAN_ERROR
      - DIRECT_SORTING_MODE
      - ITEM_NO_SORTCODE
      - OUTLET_MISSED
    description: "Defines the machine specific sort reasons.\nList of values:\n- UNKNOWN: Default enum value to map not supported values.\n- OK: Discharge OK. This describes just a \"regular\" item\n- MAX_RECIRCULATION: Item has reached the max allowed amount of recirculations.\n- ITEM_NO_READ: Item has reached the max allowed amount of scans and the last attempt was a no read.\n- ITEM_MULTIPLE_READ: Multiple national or international id barcodes could be identified.\n- SCANNER_TIMEOUT: Item has reached the max allowed amount of scans and the last attempt was a \"no answer\" from scanner.\n- ITEM_STRAY: Stray item detected.\n- ITEM_INDUCTION_ERROR: Induction error item detected (occupied twice, wrong tray).\n- ITEM_DISCHARGE_ERROR: Discharge faults.\n- ITEM_ERROR: Item has a Logical error.\n- ITEM_TRACKING_ERROR: item was inducted with tracking fault.\n- ITEM_OCCUPIED_TWICE_ERROR: item was inducted on occupied tray.\n- ITEM_DISAPPEARED: The parcel was lost at unknown location.\n- OUTLET_NOT_AVAILABLE: No available chute could be found.\n- OUTLET_UNKNOWN: Logical destination not defined.\n- UNDEFINED_ERROR: Internal error happened.\n- NO_CAPACITY: The destination outlet has no more capacity.\n- DIMENSION_ERROR: Item oversize. The parcel was discharge, because of dimension exceed.\n- WEIGHT_ERROR: Item too heavy. The parcel was discharge, because of weight exceed.\n- SORTPLAN_ERROR: Sortplan error.\n- DIRECT_SORTING_MODE: Item sorted by the direct sorting mode.\n- ITEM_NO_SORTCODE: No sortcode has been received for this item.\n- OUTLET_MISSED: Sortcode has been updated (push or repetitive requests), physical outlet already passed."
    $id: null
  SortingProcess:
    type: string
    enum:
      - AUTOMATIC
      - MANUAL_CODING_REJECT
      - MANUAL_CODING_LIGHT
      - MANUAL_CODING_BULK
      - MANUAL_CODING_BULK_AUTOMATIC
    description: "Defines the sorting process.\nAUTOMATIC Sorted by the sorter\nMANUAL_CODING_REJECT Device where a coder manually captures barcodes and enters address information\nMANUAL_CODING_LIGHT Device where barcodes barcodes, products and the weight is captured (manual or partially automated)\nMANUAL_CODING_BULK Device where barcodes, weight and dimensions and address information for bulky goods are captured or entered (manual or partially automated)\nMANUAL_CODING_BULK_AUTOMATIC Device where a coder manually captures barcodes and other specific information for bulky goods"
    $id: null
  StatisticsType:
    type: string
    enum:
      - UNKNOWN
      - INDUCTION
      - CHUTE
      - SCANNER
      - SORTER
      - TRAY_STAT
      - DESTINATION_STAT
      - SPECIAL_DESTINATION
      - ACS_STAT
    description: "StatisticsType defines the contents in the statistics values.\nList of values:\n- UNKNOWN: Default enum value to map not supported values.\n- INDUCTION: induction statistics (Einschleusung-Statistik)\n- CHUTE: physical sort destination statistics (Endstellen-Statistik).\n- SCANNER: scanner statistics (DWS-Statistik).\n- SORTER: Up- and Downtime statistics (Sorter Verf√ºgbarkeit-Statistik).\n- TRAY_STAT: tray load statistics (Schalenauslastung-Statistik).\n- DESTINATION_STAT: logical sort destination statistics (Zielstatistik).\n- SPECIAL_DESTINATION: special sort statistics (Sonderziel- / Fehlerart-Statistik).\n- ACS_STAT: Automatic Coding System statistics (Codiersystem-Statistik)"
    $id: null
  Statistics:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      stats:
        type: array
        items:
          $ref: '#/definitions/Stats'
    required:
      - timestamp
      - locationKey
    additionalProperties: false
    description: 'Used to send statistics data from the device to the control.'
    $id: null
  Stats:
    type: object
    properties:
      timeSliceStart:
        type: string
        description: 'The timestamp identifies the beginning of the time slice. A separate timestamp is needed to correct the values from the previous statistics event.'
        format: date-time
      timeSlice:
        type: integer
        description: 'The time period in minutes when the statistics data was collected.'
        minimum: 1
      processPoint:
        type: string
        description: 'The location where the information was generated. (Siehe Anlagen Bezeichnungskonzept)'
      type:
        $ref: '#/definitions/StatisticsType'
      values:
        type: array
        items:
          type: string
    required:
      - timeSliceStart
      - timeSlice
      - processPoint
      - type
      - values
    additionalProperties: false
    description: 'The statistic event of an element. The statistic will be used for visualization and control purposes.'
    $id: null
  Symbology:
    type: string
    enum:
      - NOT_RECOGNIZED
      - ADDON
      - CODABAR
      - CODE_39
      - CODE_93
      - CODE_128
      - DATA_MATRIX
      - EAN_8
      - EAN_13
      - EAN_128
      - I2OF5
      - MAXI_CODE
      - PDF_417
      - QR
      - UPC_A
      - UPC_E
      - TEXT
    description: "NOT_RECOGNIZED The symbology is not recognized\nADDON Barcode Zusatz zu EAN und UPC\nCODABAR Barcode Codabar\nCODE_39 Barcode 39\nCODE_93 Barcode 93\nCODE_128 Barcode 128\nDATA_MATRIX Data Matrix Code\nEAN_8 International Article Number\nEAN_13 International Article Number\nEAN_128 International Article Number\nI2OF5 Interleved 2 of 5 Code\nMAXI_CODE Barcode Maxicode\nPDF_417 Barcode PDF417\nQR QR Barcode\nUPC_A Barcode Universal Product Codes (Normalversion)\nUPC_E Barcode Universal Product Codes (Kurzvariante)\nTEXT Text block (for example Postcode or AreaNumber for FLAT_BUNDLE)"
    $id: null
  SynchronizeRequest:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, when control requested the synchronization of the device.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
    required:
      - timestamp
      - locationKey
    additionalProperties: false
    $id: null
  TrackEventType:
    type: string
    enum:
      - UNKNOWN
      - READ
      - INDUCTION
      - TRACK
      - DISCHARGE
      - READ_BULK
    description: "Defines the track event type.\nList of values:\n- UNKNOWN: Default enum value to map not supported values.\n- READ: Event occured when reading at the tunnel\n- INDUCTION: Event occurred during induction\n- TRACK: Event occurred on the sorter\n- DISCHARGE: Event occurred during discharge\n- READ_BULK: Event occured when reading Bulk"
    $id: null
  UUID:
    type: string
    description: "<a href=\"https://swagger.io/docs/specification/data-models/data-types/#string\">String @format uuid</a>\n(even '@format uuid' is not specified)."
    format: uuid
    $id: null
  TrackEvent:
    type: object
    properties:
      timestamp:
        type: string
        description: 'The date+timestamp which identifies the point in time, where the information was generated, including milliseconds.'
        format: date-time
      locationKey:
        type: string
        description: 'Unique identifier of the sorting center.'
        maxLength: 200
      eventType:
        $ref: '#/definitions/TrackEventType'
        description: 'The type of Track Event'
      processPoint:
        type: string
        description: 'The location where the information was generated. (Siehe Anlagen Bezeichnungskonzept)'
      sortingProcess:
        $ref: '#/definitions/SortingProcess'
        description: 'Defines the sorting process.'
      processingItemId:
        type: string
        description: 'The machine specific identifier to track a mail item during a machine sorting cycle. The identifier is used to synchronize the data events between coding and sorting systems.'
        maxLength: 32
      sourceId:
        type: string
        description: 'Refers to a module id as event-source, e.g. DWS02'
        pattern: '[A-Z]{3}[0-9]{2}'
      blockId:
        $ref: '#/definitions/UUID'
        description: 'Identifier to track a group of parcels.'
      mailpieceAttributes:
        $ref: '#/definitions/MailpieceAttr'
        description: "<b>Dependency:</b> The MailpieceAttrT type is imported from cen-mc-rc-stream-api where it is used for the submit-mailpiece topic\nThe MailpieceAttrT type provides basic mailpiece related information:\n- the kind of the mail item\n- the mailclass of the mail item; important for the ED because it and may affect the address recognition\n- the scanned faces of the mail item. The FaceSetT type is assigned to faces and allows providing a sequence of faces.\n   The FaceSetT types allows to link a face with the corresponding image by a page attribute.\n- a preknowledge result if a barcode reader or some other type of Enrichment Device is directly attached to the MC.\n   This result will be in accordance with the result type specified in the IC-ED interface."
    required:
      - timestamp
      - locationKey
      - eventType
      - processPoint
      - sortingProcess
      - processingItemId
      - sourceId
    additionalProperties: false
    description: 'The track event of an parcel. The event will be used for statistic purpose.'
    $id: null
  WeightMeasurementState:
    type: object
    properties:
      isLegalForTrade:
        type: boolean
        description: 'False: Weight is not legal for trade.'
      packageDistanceError:
        type: boolean
      packageLengthError:
        type: boolean
      externalError:
        type: boolean
      invalidMeasurement:
        type: boolean
      overweight:
        type: boolean
        description: 'Weight higher than max. weight.'
      underweight:
        type: boolean
        description: 'Weight lower than min weight.'
      overload:
        type: boolean
      underload:
        type: boolean
      conveyorSpeedChangedDuringMeasurement:
        type: boolean
      conveyorSpeedOutOfMaxLimit:
        type: boolean
      alibiStorageAtScaleFailed:
        type: boolean
      scaleDataFormatError:
        type: boolean
    required:
      - isLegalForTrade
    additionalProperties: false
    $id: null
  Weight:
    type: object
    properties:
      value:
        type: integer
        description: 'Actual weight in [g].'
        maxLength: 6
      scaleId:
        type: string
        description: 'The id of the scale (e.g. HAE-024)'
      state:
        $ref: '#/definitions/WeightMeasurementState'
        description: 'Weighing errors'
    additionalProperties: false
    description: 'Weight measurement of the mail piece.'
    $id: null
